<html>
<body>
<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script src="http://js.leapmotion.com/0.2.0/leap.js"></script>
<div id="output"></div>
<style>
html, body {
  width: 100%;
  height:100%;
  margin: 0;
  padding: 0;
  background: #024;
  color: #fff;
}
#output {
  font-weight: bold;
  font-size: 100px;
  text-align: center;
  width: 600px;
  margin: 0 auto;
}

</style>
<script>
/*
var controller = new Leap.Controller();

controller.on('connect', function() {
  console.log("Successfully connected.");
});

controller.on('deviceConnected', function() {
  console.log("A Leap device has been connected.");
});

controller.on('deviceDisconnected', function() {
  console.log("A Leap device has been disconnected.");
});

controller.connect();

controller.on('deviceFrame', function() {

  console.log("A Leap device running");

});
*/


Leap.loop({enableGestures: true}, function(obj) {
  if (obj.gestures.length > 0) {
    obj.gestures.forEach(function(gesture) {
      output(gesture);
    });
  }
});

var outputDiv = document.getElementById("output");
function output(json) {
  var div = document.createElement("div")
  var jsonobj = jQuery.parseJSON(JSON.stringify(json));

  if (jsonobj.type == 'swipe') {
  	var array = JSON.parse("[" + jsonobj.direction + "]");
	if (array[0] > 0.3)
	{ direction = '向右';} else if (array[0]< -0.3){direction = '向左';}
    //div.innerHTML =  direction;
    document.getElementById('output').innerHTML = direction;
    //div.innerHTML = JSON.stringify(json) + "<br/>";
    //outputDiv.insertBefore(div, outputDiv.firstChild);
  }
  else if (jsonobj.type == 'circle')
  {
  	var array = JSON.parse("[" + jsonobj.normal + "]");
  	if (array[0] > 0) {circle = '逆時針';} else if (array[0] < 0) {circle = '順時針';}
  	document.getElementById('output').innerHTML = circle;

  }
  else if (jsonobj.type == 'keyTap')
  {
  	document.getElementById('output').innerHTML = '點擊';
  };
};

</script>
</body>
</html>